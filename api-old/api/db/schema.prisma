datasource db {
  provider = "sqlite"
  url      = env("DATABASE_URL")
}

generator client {
  provider      = "prisma-client-js"
  binaryTargets = "native"
}

model GeoLocation {
  id  Int @id @default(autoincrement())

  city String 
  zip Int?

  fips String?
  county String?

  latitude Float
  longitude Float
  elivation Float

  state String?
  stateAbbrev String

  weatherStations Station[]
}
model Station {
  code String @id

  geoLocation GeoLocation @relation(fields: [geoLocationId], references: [id])
  geoLocationId Int

  gcn String?
  hcn String?
  wmoid String?

  climateEntries ClimateEntry[]
  climateDataPoints ClimateDataPoint[]
}

model ClimateDataPoint {
  cuid  String @id @default(cuid())

  station   Station @relation(fields: [stationCode], references: [code])
  stationCode String

  value String
  flag  String?

  topic String
  period String
  
  climateEntry ClimateEntry @relation(fields: [climateEntryId], references: [id])
  climateEntryId Int
}
model ClimateEntry {
  id  Int @id @default(autoincrement())

  station   Station @relation(fields: [stationCode], references: [code])
  stationCode String

  dataPoints ClimateDataPoint[]
    
}